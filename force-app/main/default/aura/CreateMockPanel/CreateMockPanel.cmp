<aura:component controller="CreateMockPanelController" implements="flexipage:availableForRecordHome,forceCommunity:availableForAllPageTypes,force:hasRecordId">
    <aura:attribute name="LeftSideTypes" type="List"/>
    <aura:attribute name="AllStacks" type="List"/>
    <aura:attribute name="RightSideTypes" type="map"/>
    <aura:attribute name="TypeMap" type="Map"/>
    <aura:attribute name="ActiveStack" type="String"/>
    <aura:attribute name="val" type="integer" default="20" />
    <aura:attribute name="default" type="List"/>
    <aura:attribute name="display" type="List"/>
    <aura:attribute name="viewState" type="Boolean" default="true"/>
    <aura:handler name="init" value="{!this}" action="{!c.doinit}"/>
    <aura:handler event="c:UpdateMockPanelList" action="{!c.changeView}"/>
    <aura:handler event="c:finishPanelEvent" action="{!c.handleFinishEvent}"/>
    <aura:registerEvent name="UpdateList" type="c:UpdateMockPanelList"/>
  
    <aura:if isTrue="{!v.viewState}">
        <lightning:card>
            <div class="slds-m-horizontal--medium" style="height: 508px">
                <lightning:select name="chooseStack" label="Choose Stack" aura:id="stack id" value="{!v.ActiveStack}" required="true" onchange="{!c.ChangeLeftSideTypes}">
                    <option value=" " >--Select--</option>
                    <aura:iteration items="{!v.AllStacks}" var="option">
                        <option text="{!option}" value="{!option}"/>
                    </aura:iteration>
                </lightning:select>
                <br/>
                <lightning:button label="Select All" onclick="{!c.SelectAll}" variant="brand"/>
                <lightning:button label="Deselect All" onclick="{!c.DeselectAll}" variant="brand"/>
                <br/>
                <br/>
                <div class="slds-grid">
                    <div class="slds-col slds-size_3-of-5">
                        <lightning:dualListbox name="typeSelection"
                                               label="Select Types"
                                               value="{!v.default}"
                                               sourceLabel="Available"
                                               selectedLabel="Selected Types"
                                               fieldLevelHelp="Select your interview question types."
                                               options="{!v.LeftSideTypes}"
                                               onchange="{!c.holdRightSideTypes}"/>
                    </div>
                    <div class="slds-col slds-size_2-of-5">
                        <br/>
                        <p>Number of Question</p>
                        <div class="slds-scrollable" style="height: 245px">
                            <aura:iteration items="{!v.display}" var="data" indexVar="index">
                                <div class="slds-list_horizontal">
                                    <lightning:input type="number" class="slds-size_small" label="{!data.name}" name="{!index}" value="{!data.number}" onblur="{!c.setValue}" step="1"/>
                                    <h1 class="slds-text-heading_medium" style="margin-top: 28px">MAX: {!data.max}</h1>
                                </div>
                            </aura:iteration>
                        </div>
                    </div>
                </div>
                <lightning:button label="Create Mock Panel" onclick="{!c.createMockPanelJS}" variant="brand" aura:Id="CreateButton"/>
            </div>
        </lightning:card>
	</aura:if>
</aura:component>